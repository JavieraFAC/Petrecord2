"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1330],{1330:(T,m,i)=>{i.r(m),i.d(m,{LoginPageModule:()=>E});var u=i(177),s=i(4341),d=i(4742),g=i(9384),p=i(467),o=i(4438),f=i(6893),v=i(4379);let b=(()=>{var n;class a{constructor(){}ngOnInit(){}}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=o.VBU({type:n,selectors:[["app-logo"]],decls:2,vars:0,consts:[[2,"text-align","center"],["src","../../assets/petrecord.png","alt","PetRecord",1,"full-image","zoom-animation",2,"text-align","center"]],template:function(r,e){1&r&&(o.j41(0,"div",0),o.nrm(1,"img",1),o.k0s())},styles:['@charset "UTF-8";.full-image[_ngcontent-%COMP%]{width:50%;height:auto;padding:20px}@keyframes _ngcontent-%COMP%_zoomInOut{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.zoom-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomInOut 3s infinite ease-in-out}']}),a})();var L=i(9198);function h(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"Debes ingresar correo electr\xf3nico"),o.k0s())}function F(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"Ingresa un correo v\xe1lido"),o.k0s())}function P(n,a){if(1&n&&(o.j41(0,"div",12),o.DNE(1,h,2,0,"div",13)(2,F,2,0,"div",13),o.k0s()),2&n){const t=o.XpG();o.R7$(),o.Y8G("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),o.R7$(),o.Y8G("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.email)}}function y(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"La contrase\xf1a es obligatoria"),o.k0s())}function k(n,a){if(1&n&&(o.j41(0,"div",12),o.DNE(1,y,2,0,"div",13),o.k0s()),2&n){const t=o.XpG();o.R7$(),o.Y8G("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required)}}const I=[{path:"",component:(()=>{var n;class a{constructor(){this.form=new s.gE({email:new s.MJ("",[s.k0.required,s.k0.email]),password:new s.MJ("",[s.k0.required])}),this.firebaseS=(0,o.WQX)(f.f),this.cargandoS=(0,o.WQX)(v.X)}ngOnInit(){}submit(){var r=this;return(0,p.A)(function*(){if(r.form.valid){const e=yield r.cargandoS.loading();yield e.present(),r.firebaseS.signIn(r.form.value).then(l=>{r.getUserInfo(l.user.uid)}).catch(l=>{console.log(l),r.cargandoS.presentToast({message:"El usuario o la contrase\xf1a es inv\xe1lido, porfavor vuelva a ingresar",duration:2e3,color:"danger",position:"middle"})}).finally(()=>{e.dismiss()})}})()}getUserInfo(r){var e=this;return(0,p.A)(function*(){if(e.form.valid){const l=yield e.cargandoS.loading();yield l.present();let G=`users/${r}`;delete e.form.value.password,e.firebaseS.getDocumento(G).then(c=>{e.cargandoS.saveInLocalStorage("users",c),e.cargandoS.routerLink("/perfil"),e.form.reset(),e.cargandoS.presentToast({message:`Bienvenid@ ${c.nombre}`,duration:2e3,color:"primary",position:"middle"})}).catch(c=>{console.log(c),e.cargandoS.presentToast({message:"El usuario o la contrase\xf1a es inv\xe1lido, porfavor vuelva a ingresar",duration:2e3,color:"danger",position:"middle"})}).finally(()=>{l.dismiss()})}})()}}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],decls:21,vars:6,consts:[[1,"fondo"],[2,"padding-top","100px"],[2,"padding","5%"],[1,"ion-card"],[3,"ngSubmit","keypress.enter","formGroup"],["icon","mail-outline","autocomplete","email","type","email","label","Correo",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["type","submit",1,"submit",3,"disabled"],["slot","end","name","log-in-outline"],["shape","round","color","light","routerLink","/nuevacuenta"],["routerLink","/olvidocontrasena",1,"botonolvido"],[1,"validators"],[4,"ngIf"]],template:function(r,e){1&r&&(o.j41(0,"ion-content",0),o.nrm(1,"div",1)(2,"app-logo"),o.j41(3,"div",2)(4,"ion-card",3)(5,"h2"),o.EFF(6," Iniciar sesion"),o.k0s(),o.j41(7,"form",4),o.bIt("ngSubmit",function(){return e.submit()})("keypress.enter",function(){return e.submit()}),o.nrm(8,"app-formulario",5),o.DNE(9,P,3,2,"div",6),o.nrm(10,"app-formulario",7),o.DNE(11,k,2,1,"div",6),o.j41(12,"ion-button",8),o.EFF(13," Ingresar "),o.nrm(14,"ion-icon",9),o.k0s()(),o.j41(15,"div")(16,"ion-button",10),o.EFF(17," Crear cuenta "),o.k0s()(),o.j41(18,"div")(19,"ion-button",11),o.EFF(20," Olvid\xe9 mi contrase\xf1a "),o.k0s()()()()()),2&r&&(o.R7$(7),o.Y8G("formGroup",e.form),o.R7$(),o.Y8G("control",e.form.controls.email),o.R7$(),o.Y8G("ngIf",e.form.controls.email.errors&&e.form.controls.email.touched),o.R7$(),o.Y8G("control",e.form.controls.password),o.R7$(),o.Y8G("ngIf",e.form.controls.password.errors&&e.form.controls.password.touched),o.R7$(),o.Y8G("disabled",e.form.invalid))},dependencies:[u.bT,s.qT,s.cb,d.Jm,d.b_,d.W9,d.iq,d.N7,g.Wk,b,L.c,s.j4],styles:["ion-button[_ngcontent-%COMP%]{--background: #B5E2FA;--background-hover: #F7A072;--background-activated: #F7A072;--background-focused: #F7A072;--color: #000000 ;--border-radius: 10px;--box-shadow: 0 2px 6px 0 rgba(99, 98, 98, .25);--ripple-color:#0FA3B1 ;margin-top:20px;display:block;--padding-top: 10px;--padding-bottom: 10px}.botonolvido[_ngcontent-%COMP%]{--background: none;--color: #0FA3B1 ;--border-radius: 0px;--box-shadow: 0;margin-top:20px;display:block;--padding-top: 10px;--padding-bottom: 10px}"]}),a})()}];let C=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[g.iI.forChild(I),g.iI]}),a})();var M=i(3656);let E=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[u.MD,s.YN,d.bv,C,M.h]}),a})()}}]);